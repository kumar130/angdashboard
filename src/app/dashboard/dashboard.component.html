<div class="page">
    <div class="card">

        <h1>AWS Tag Compliance</h1>

        <div class="stats">

            <div class="stat">
                <h3>Total Resources</h3>
                <p>{{ totalResources }}</p>
            </div>

            <div class="stat clickable" (click)="toggleEnvDetails()">
                <h3>Environment (sbx)</h3>
                <p>{{ envCompliance }}%</p>
            </div>

            <div class="stat clickable" (click)="toggleCustomerDetails()">
                <h3>Customer</h3>
                <p>{{ customerCompliance }}%</p>
            </div>

        </div>

        <!-- ENV DETAILS -->
        <div *ngIf="showEnvDetails" class="details">
            <h4>Non-compliant Environment Tags</h4>
            <table>
                <tr>
                    <th>Resource</th>
                    <th>Value</th>
                </tr>
                <tr *ngFor="let r of nonCompliantEnv">
                    <td>{{ r.resourceId }}</td>
                    <td>{{ r.value }}</td>
                </tr>
            </table>
        </div>

        <!-- CUSTOMER DETAILS -->
        <div *ngIf="showCustomerDetails" class="details">
            <h4>Non-compliant Customer Tags</h4>
            <table>
                <tr>
                    <th>Resource</th>
                    <th>Value</th>
                </tr>
                <tr *ngFor="let r of nonCompliantCustomer">
                    <td>{{ r.resourceId }}</td>
                    <td>{{ r.value }}</td>
                </tr>
            </table>
        </div>

    </div>
</div>
